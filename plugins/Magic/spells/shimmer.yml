shimmer:
  name: Shimmer
  description: Release multiple blinding blasts of concussive light at a targeted area
  icon: lantern
  inherit: false
  actions:
    cast:
    - class: Repeat
      actions:
      - class: PlayEffects
        effects: signal
      - class: Delay
      - class: AreaOfEffect
        actions:
          - class: PlayEffects
            effects: flash
          - class: Damage
          - class: PotionEffect
          - class: Velocity
  effects:
    signal:
      - class: EffectSingle
        location: target
        effectlib:
           class: Modified
           duration: $delay
           parameters:
             radius: "(t/i) * 5 + 0.1"
           effect:
             class: Warp
             particle_count: 3
             rings: 12
             grow: 1
             offset: 0,0.1,0
             particle: electric_spark
             update_locations: true
             update_directions: false
             pitch: 0
             particle_data: 0.15
      - sound: entity_illusioner_cast_spell
        sound_pitch: 0.1
        delay: 0
      - sound: entity_illusioner_cast_spell
        sound_pitch: 0.6
        delay: 200
      - sound: entity_illusioner_cast_spell
        sound_pitch: 1.2
        delay: 400
      - location: target
        effectlib:
          class: Vortex
          radius: 5
          particle: end_rod
          particles: 24
          grow: 2
          helixes: 6
          circles: 12
          pitch: -90
          yaw: 0
          offset: 0,-12,0
          update_locations: true
          update_directions: false
      - location: target
        effectlib:
          class: Vortex
          radius: 4
          particle: fireworks_spark
          iterations: 3
          particles: 18
          grow: 2
          helixes: 3
          circles: 12
          pitch: -90
          yaw: 0
          offset: 0,-12,0
          update_locations: true
          update_directions: false
    flash:
      - location: target
        source_location: head
        particle: flash
        particle_count: 1
        particle_offset: 0
        sound: entity_elder_guardian_curse
        sound_pitch: 0.3
        sound_volume: 0.5
        sound_broadcast: false
  parameters:
    target: block
    target_type: Damageable
    delay: 1000
    direction: 0,0.1,0
    potion_effects:
      blindness: 0
      night_vision: 0
      slow: 1
    duration: 2000
    range: 32
    repeat: 5
    radius: 5
    y_radius: 12
    damage: 5
    damage_max_distance: 5
    damage_min_distance: 2.5
    no_damage_ticks: 0
    cooldown: 11000
  cost:
    mana: 120
infernoring:
  icon: diamond_sword{18102}
  name: Inferno Ring
  actions:
    cast:
    - class: ChangeContext
      source_location: feet
      actions:
        - class: Repeat
          actions:
            - class: ModifyVariable
              value: $count+1
              variable: count
              scope: cast
            - class: Cylinder
              x_size: $count
              z_size: $count
              y_size: 0
              thickness: $count/($repeat/$repeat*3)
              actions:
                - class: Cover
                  target_above: true
                  actions:
                    - class: PlayEffects
                      effects: burst
                    - class: AreaOfEffect
                      radius: 1
                      y_radius: 0.5
                      actions:
                        - class: Ignite
                        - class: Damage
                          damage: 4
                        - class: PlayEffects
                          effects: burn
            - class: Delay
              delay: 75
  effects:
    burst:
      - location: target
        target_location: block
        particle: lava
        particle_count: 1
        particle_offset: 0.25,0,0.25
        probability: 0.1
      - location: target
        target_location: block
        particle: flame
        particle_count: 1
        particle_offset: 0,0,0
        particle_data: 0.1
        probability: 0.5
      - location: target
        sound: block_fire_ambient
    burn:
      - location: target
        particle: small_flame
        particle_count: 1
        particle_offset: 0.5
        particle_data: 0.1
        sound: item_firecharge_use
        sound_volume: 0.5
        sound_pitch: 0.1
    test:
      - location: target
        target_location: block
        particle: electric_spark
        particle_count: 1
        particle_offset: 0.25,0,0.25
  parameters:
    target: self
    repeat: 16

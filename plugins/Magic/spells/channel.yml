channel:
  name: Channelling
  description: "You shouldn't see this..."
  icon: ender_eye{18001}
  actions:
    cast:
    - class: ChangeContext
      target_self: true
      target_caster: true
      actions:
        - class: PotionEffect
    - class: Interval
    - class: PlayEffects
      effect: burst
  effects:
    cast:
      - class: EffectSingle
        location: target
        effectlib:
           class: Modified
           duration: $warmup
           parameters:
               radius: "(t/i) * -4 + 4"
           effect:
             class: Sphere
             particle_increase: 0.25
             particles: 10
             particle_offset_x: 0.3
             particle_offset_z: 0.3
             particle_offset_y: 0.6
             offset: 0,-0.5,0
             radius: 5
             particle: crit_magic
             update_locations: true
      - sound: entity_illusioner_cast_spell
        sound_pitch: 0.1
        delay: 0
      - sound: entity_illusioner_cast_spell
        sound_pitch: 0.6
        delay: 100
      - sound: entity_illusioner_cast_spell
        sound_pitch: 1.2
        delay: 200
  parameters:
   target: self
   warmup: 500
   duration: $warmup
   remove_on_finish: true
   add_effects:
     slow: 4
     jump: -5
auralburst:
  name: Aural Burst
  description: Ward yourself with a veil of mana. Upon taking damage, unleash a self-centered blast of mana, dealing x damage and knocking away enemies
  icon: arcanestar
  icon_disabled: arcanestar
  category: arcane
  actions:
    cast:
      - class: PlayEffects
        effects: burst
      - class: Repeat
        actions:
        - class: ModifyVariable
          variable: count
        - class: AreaOfEffect
          actions:
          - class: Damage
          - class: Velocity
            direction: 0,0.1,0
          - class: Delay
            delay: 100
  effects:
    burst:
    - class: EffectSingle
      sound: block_conduit_activate
      sound_volume: 5
      sound_pitch: -2
      location: origin
      color_override: color
      effectlib:
        class: Sphere
        radius: 1
        radius_increase: 1
        particle_size: rand(1.2,2)
        duration: 500
        iterations: 1
        particle: dust_color_transition
        to_color: "#ff00ff"
        offset: 0,-1,0
  parameters:
    target: self
    warmup: 2000
    damage_type: magic
    damage: 3
    repeat: 5
    damage_min_distance: 4
    damage_max_distance: 12
    no_damage_ticks: 0
    target_type: Damageable
    y_offset: 0.5
    cooldown: 15000
    living_entity_speed: 1
    push: 0.85
  costs:
    mana: 100


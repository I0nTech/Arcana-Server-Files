pearlrider:
  name: Pearl Rider
  description: AHHHHH
  icon: ender_eye
  actions:
    cast:
      - class: EntityProjectile
        spawn:
          - class: Mount
    alternate_sneak:
      - class: EntityProjectile
        reflect_count: 0
        hit_on_miss: true
        actions:
          - class: Teleport
          - class: ChangeContext
            target_caster: true
            actions:
            - class: PotionEffect
              duration: 400

  effects:
    cast:
      - location: origin
        sound: entity_ender_pearl_throw
        sound_volume: 2
        sound_pitch: 0.3
    hit:
      - location: target
        source_location: head
        particle: flash
        visibility: origin
        particle_count: 2
        sound: entity_ender_eye_death
        sound_pitch: 5
        sound_volume: 5
      - location: target
        particle: portal
        particle_count: 12
        particle_offset: 0.4
        particle_data: 0.4
        sound: entity_enderman_teleport
        sound_pitch: 5
        sound_volume: 2
  parameters:
    type: ender_signal
    item: ender_pearl
    maintain_direction: true
    keep_velocity: true
    direct: true
    potion_effects:
      blindness: 4
      night_vision: 4
    set_target: true
    lifetime: 10000
    velocity: 32
    gravity: 0.02
    reflective: solid
    reflect_count: 2

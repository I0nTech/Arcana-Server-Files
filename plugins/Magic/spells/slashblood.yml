slashblood:
  name: Blood Slash
  description: Slash an enemy, horizontally
  icon: diamond_sword
  actions:
    none:
    cast:
    - class: ChangeContext
      source_yaw_offset: (5-4)*22.5 #Control of angle
      actions:
      - class: Equation
        orient: true
        orient_pitch: true
        iterations: 5*(8-8/5) #1 is 45 degrees, 4 is 180 degrees, 8 is 360
        x_equation: 3*sin(t/8)
        y_equation: cos(t/8) #Diagonal, (-1,1)
        z_equation: 3*cos(t/8)
        actions:
          - class: PlayEffects
            effects: slash
          - class: Asynchronous
            actions:
              - class: CustomProjectile
                miss_effects: slash
                tick_effects: none
                actions:
                  - class: Damage
                  - class: Velocity
          - class: Skip
            skip: $skip
            actions:
            - class: Delay
              delay: 1
  effects:
    cast:
      - location: origin
        sound: entity_player_attack_sweep
        sound_volume: 2
        sound_pitch: 1.2
    none:
    slash:
      - location: target
        effectlib:
          duration: 100
          class: Equation
          auto_orient: true
          x_equation: 0.5/(t+1)
          particle: electric_spark
          particle_size: 0.5
          color: "#8b0000"
          particles: 4
      - location: target
        effectlib:
          duration: 150
          class: Equation
          auto_orient: true
          x_equation: (1/(t/3+1))
          particle: dust_color_transition
          particle_size: 1
          color: "#8b0000"
          to_color: "#FF0000"
          particles: 4
    hit_entity:
      - location: target
        particle: block_dust
        particle_offset: 0
        particle_count: 2
        material: redstone_block
      - location: target
        sound: entity_player_attack_crit
        sound_pitch: 1.5
        sound_volume: 0.2
      - location: target
        sound: entity_player_attack_knockback
        sound_pitch: 2
        sound_volume: 0.2
  parameters:
    target: none
    source_location: body
    range: 3
    damage: 4
    direction: 0,0.5,0
    push: 1
    skip: 8
    velocity: 1000
    hit_count: 3
    hitbox: true
    hitbox_size: 0.2
    cooldown: 1000

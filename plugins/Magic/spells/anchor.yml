# This is the key name of this spell
# It must be unique across the server, and is used in configs and commands such as /mage, /wand and /mgive
# to refer to this spell.
anchor:
  name: Higher Channelling
  description: "You shouldn't see this..."
  icon: ender_eye{18001}
  actions:
    cast:
    - class: PotionEffect
    - class: Delay
  effects:
    cast:
      - class: EffectSingle
        location: target
        effectlib:
           class: Modified
           duration: $warmup
           parameters:
               radius: "0"
           effect:
             class: Sphere
             particle_increase: 0.25
             particles: 4
             particle_offset_x: 0.3
             particle_offset_z: 0.3
             particle_offset_y: 0.6
             offset: 0,-0.5,0
             speed: 1
             particle_data: 3
             particle: enchantment_table
             update_locations: true
      - class: EffectSingle
        location: target
        effectlib:
           class: Modified
           duration: $warmup
           parameters:
               radius: "(t/i) * -5 + 5"
           effect:
             class: Sphere
             particles: 4
             particle_offset_x: 0.3
             particle_offset_z: 0.3
             particle_offset_y: 0.6
             offset: 0,-0.5,0
             radius: 5
             particle: crit_magic
             update_locations: true
      - class: EffectSingle
        location: target
        effectlib:
           class: Modified
           duration: $warmup
           parameters:
             radius: "(t/i) * -2.5 + 4"
           effect:
             class: Circle
             particle_count: 4
             whole_circle: false
             x_rotation: 0
             y_rotation: 30
             z_rotation: 0
             angular_velocity_x: 0
             angular_velocity_y: 0
             angular_velocity_z: 0
             offset: 0,-1,0
             particle: crit_magic
             update_locations: true
             update_directions: false
             pitch: 0
             particle_data: 0.15
      - class: EffectSingle
        location: target
        effectlib:
           class: Modified
           duration: $warmup
           parameters:
             radius: "(t/i) * -2.5 + 4"
           effect:
             class: Circle
             particle_count: 4
             whole_circle: false
             x_rotation: 0
             y_rotation: -30
             z_rotation: 0
             angular_velocity_x: 0
             angular_velocity_y: 0
             angular_velocity_z: 0
             offset: 0,-1,0
             particle: crit_magic
             update_locations: true
             update_directions: false
             pitch: 0
             particle_data: 0.15
      - sound: entity_illusioner_cast_spell
        sound_pitch: 0.1
        delay: 0
      - sound: entity_illusioner_cast_spell
        sound_pitch: 0.6
        delay: 100
      - sound: entity_illusioner_cast_spell
        sound_pitch: 1.2
        delay: 200
  parameters:
   target: self
   warmup: 500
   duration: $warmup
   remove_on_finish: true
   potion_effects:
     slow: 9
     jump: -5